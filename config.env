CONFIG_ENV=config.env

# ===== Kernel =====
# 换成你自己的 coral 内核仓库 & 分支
KERNEL_SOURCE=https://github.com/chen-chen-chen0/android_kernel_google_msm-4.14-coral-los19-1
KERNEL_SOURCE_BRANCH=los19-kernelsu

# coral 的 defconfig（在 arch/arm64/configs/floral_defconfig）
KERNEL_CONFIG=floral_defconfig

# 和 device/google/coral 里的 BOARD_KERNEL_IMAGE_NAME 一致
KERNEL_IMAGE_NAME=Image.lz4

ARCH=arm64
ADD_LOCALVERSION_TO_FILENAME=false

# 额外编译参数：官方推荐的是 LLVM=1 LLVM_IAS=1
# 再带上原模板的 LD=ld.lld
# 多个参数之间用空格隔开
EXTRA_CMDS:LLVM=1 LLVM_IAS=1 LD=ld.lld

# ===== Clang =====
## Custom
USE_CUSTOM_CLANG=false
CUSTOM_CLANG_SOURCE=
CUSTOM_CLANG_BRANCH=

### if your set USE CUSTOM CLANG to false than DO NOT CHANGE CUSTOM CMDS
CUSTOM_CMDS:CLANG_TRIPLE=aarch64-linux-gnu-

## AOSP
# 用 Android 12 对应的 clang，4.14 内核没问题
CLANG_BRANCH=master-kernel-build-2021
CLANG_VERSION=r416183b

# ===== GCC =====
ENABLE_GCC_ARM64=true
ENABLE_GCC_ARM32=true
USE_CUSTOM_GCC_64=false
CUSTOM_GCC_64_SOURCE=
CUSTOM_GCC_64_BRANCH=
CUSTOM_GCC_64_BIN=aarch64-linux-android-
USE_CUSTOM_GCC_32=false
CUSTOM_GCC_32_SOURCE=
CUSTOM_GCC_32_BRANCH=
CUSTOM_GCC_32_BIN=arm-linux-androideabi-

# ===== KernelSU flags =====
# 这里一定要开
ENABLE_KERNELSU=true
# 非 GKI 最后一版
KERNELSU_TAG=v0.9.5
KSU_EXPECTED_SIZE=
KSU_EXPECTED_HASH=

# ===== Configuration =====
# 注意：这些键名带横杠是原项目就这样写的，不要改成下划线
DISABLE-LTO=true
# 关掉 Werror，防止 warning 变 error
DISABLE_CC_WERROR=true
# 自动往 defconfig 里注入 Kprobes 相关开关
ADD_KPROBES_CONFIG=true
# 自动注入 overlayfs 支持
ADD_OVERLAYFS_CONFIG=true
# 先不启用自动 patch，kprobe 正常的话用不到
APPLY_KSU_PATCH=true
REMOVE_UNUSED_PACKAGES=true

# ===== AnyKernel3 =====
## AnyKernel3 Custom
USE_CUSTOM_ANYKERNEL3=false
CUSTOM_ANYKERNEL3_SOURCE=
CUSTOM_ANYKERNEL3_BRANCH=

# ===== Ccache =====
ENABLE_CCACHE=true

# ===== DTBO image =====
NEED_DTBO=false

# ===== Build boot images =====
# 我们只让 Action 帮你出一个 AnyKernel3 包，不在云上打 boot.img
BUILD_BOOT_IMG=false
SOURCE_BOOT_IMAGE=
